<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Coastal Homes Widget • Kurulum</title>
  <meta name="description" content="Coastal Homes Widget'i sitenize tek satır kodla ekleyin. Basit kurulum, üst düzey açıklama ve diyagram." />
  <style>
    :root { --max: 880px; }
    body { font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; margin:0; color:#111; background:#fff; }
    header { padding:28px 20px; border-bottom:1px solid #eee; }
    main { padding:28px 20px 60px; }
    .wrap { max-width: var(--max); margin: 0 auto; }
    h1 { font-size: 28px; margin: 0 0 8px; }
    .muted { color:#666; }
    .card { border:1px solid #ececec; border-radius:16px; padding:20px; margin:18px 0; }
    pre { background:#f7f7f7; padding:14px; border-radius:10px; overflow:auto; }
    code { font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; }
    ul { margin: 10px 0 0 20px; }
    .ok { background:#eefbf1; border:1px solid #cdebd6; padding:8px 12px; border-radius:8px; display:inline-block; }
    footer { border-top:1px solid #eee; padding:18px 20px; color:#666; }
    .copy { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .btn { cursor:pointer; padding:8px 10px; border:1px solid #ddd; border-radius:8px; background:#fff; }
    .diagram { background:#fcfcfc; border:1px dashed #ddd; border-radius:12px; padding:12px; }
    .small { font-size: 14px; color:#555; }
    .tag { display:inline-block; padding:2px 6px; border:1px solid #ddd; border-radius:6px; font-size:12px; background:#fafafa; margin-left:6px; }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>🛠️ Coastal Homes Widget — Kurulum</h1>
      <div class="muted">Tek satır kodla ekleyin. Güncellemeler otomatik uygulanır.</div>
    </div>
  </header>

  <main>
    <div class="wrap">
      <!-- 1) Tek satırlık kurulum -->
      <section class="card">
        <h3>1) Kopyala &amp; Yapıştır</h3>
        <div class="copy">
          <pre><code>&lt;script src="https://app.homster.xyz/js/coastalhomes/index.js" async&gt;&lt;/script&gt;</code></pre>
          <button class="btn" id="copyBtn">Kodu Kopyala</button>
        </div>
        <p class="muted">Tercihen <code>&lt;/head&gt;</code> öncesine; isterseniz <code>&lt;/body&gt;</code> öncesine ekleyebilirsiniz.</p>
        <p class="ok">Hepsi bu kadar ✅</p>
      </section>

      <!-- 2) Ne olacak -->
      <section class="card">
        <h3>2) Ne Olacak?</h3>
        <ul>
          <li>Widget otomatik yüklenir (<span class="tag">async</span>).</li>
          <li>İleride kodu güncellemenize gerek kalmaz (güncellemeler bizden).</li>
          <li>Site hızına etkisi düşüktür; sayfa işleyişini bozmaz.</li>
        </ul>
      </section>

      <!-- 3) Üst düzey açıklama + diyagram -->
      <section class="card">
        <h3>3) Nasıl Çalışır? (Üst Düzey)</h3>
        <p>
          Kod tek satırda yüklenir ve sayfaya tek bir <strong>widget</strong> ekler. Sadece gerekli olduğunda,
          arka plana kısa bir istek atıp (karar verme için) hangi küçük arayüzün gösterileceğine karar verir:
          buton, bildirim veya bir <strong>iframe</strong> içindeki canlı önizleme penceresi.
        </p>
        <ul>
          <li><strong>Müdahale alanı sınırlı:</strong> Mevcut sayfa yapısını değiştirmez, sadece kendi kapsayıcısında çalışır (<em>container</em>).</li>
          <li><strong>Veri tarafı sade:</strong> URL, sayfada kalma süresi ve kaydırma yüzdesi gibi <em>anonim</em> bilgiler.
              Kişisel veri sadece kullanıcı gönüllü paylaştığında alınır.</li>
          <li><strong>Takip kimliği:</strong> Anonim ziyaretçi ID’si (<em>vp_id</em>) çerez <em>(cookie)</em> veya yerel depolama <em>(localStorage)</em> ile hatırlanabilir.</li>
          <li><strong>Güvenlik:</strong> Google Analytics/Hotjar gibi standart bir <em>script tag</em> ile yüklenir; kaldırırsanız tamamen devre dışı kalır.</li>
        </ul>

        <div class="diagram" aria-label="Üst düzey akış diyagramı">
          <!-- Basit, responsive inline SVG diyagram -->
          <svg viewBox="0 0 820 300" width="100%" height="auto" role="img">
            <defs>
              <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#888"></path>
              </marker>
              <style>
                .box { fill:#fff; stroke:#bbb; stroke-width:1.2; rx:10; ry:10; }
                .title { font: 600 13px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; fill:#111; }
                .sub { font: 12px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; fill:#666; }
                .arrow { stroke:#888; stroke-width:1.4; marker-end: url(#arrow); }
              </style>
            </defs>

            <!-- Sütun merkezleri -->
            <g transform="translate(30,40)">
              <!-- 1) Ziyaretçi Tarayıcısı -->
              <rect class="box" x="0" y="0" width="200" height="70"></rect>
              <text class="title" x="100" y="27" text-anchor="middle">Ziyaretçi Tarayıcısı</text>
              <text class="sub"   x="100" y="48" text-anchor="middle">(Browser)</text>

              <!-- 2) Siteniz + Script Tag -->
              <rect class="box" x="230" y="0" width="220" height="90"></rect>
              <text class="title" x="340" y="27" text-anchor="middle">Siteniz</text>
              <text class="sub"   x="340" y="48" text-anchor="middle">+ Script Tag (Widget Loader)</text>
              <text class="sub"   x="340" y="66" text-anchor="middle">&lt;script async src="...index.js"&gt;</text>

              <!-- 3) Coastal Homes Widget (UI) -->
              <rect class="box" x="490" y="0" width="260" height="110"></rect>
              <text class="title" x="620" y="27" text-anchor="middle">Coastal Homes Widget</text>
              <text class="sub"   x="620" y="48" text-anchor="middle">UI: buton / bildirim / iframe</text>
              <text class="sub"   x="620" y="66" text-anchor="middle">Kendi kapsayıcısında (container)</text>

              <!-- 4) Homster Backend (Decision API) -->
              <rect class="box" x="260" y="160" width="220" height="80"></rect>
              <text class="title" x="370" y="187" text-anchor="middle">Homster Backend</text>
              <text class="sub"   x="370" y="208" text-anchor="middle">Decision API</text>

              <!-- Arrows -->
              <line class="arrow" x1="200" y1="35" x2="230" y2="35"></line>
              <line class="arrow" x1="450" y1="35" x2="490" y2="35"></line>
              <line class="arrow" x1="620" y1="110" x2="370" y2="160"></line> <!-- Widget -> Backend -->
              <line class="arrow" x1="370" y1="160" x2="620" y2="110"></line> <!-- Backend -> Widget -->
            </g>
          </svg>
          <div class="small">
            Özet akış: <strong>Sayfa yüklenir</strong> → <strong>script</strong> tek satırda widget’ı başlatır →
            gerekli ise <strong>Backend</strong>’e hafif bir istek atılır → gelen karara göre widget
            bir <em>UI</em> öğesi (buton/bildirim/iframe) gösterir.
          </div>
        </div>

        <p class="small"><strong>Not (terimler):</strong> Türkiye’de bu kavramlar çoğunlukla İngilizce kullanılır.
          İlk geçtiği yerde Türkçe karşılığını parantezle ekledik: çerez (<em>cookie</em>), yerel depolama (<em>localStorage</em>),
          kapsayıcı (<em>container</em>), olay dinleyici (<em>event listener</em>), içerik güvenliği politikası (<em>CSP</em>), çerçeve (<em>iframe</em>).
        </p>
      </section>

      <!-- 4) Destek -->
      <section class="card">
        <h3>4) Destek</h3>
        <p>📧 support@homster.xyz &nbsp;·&nbsp; ☎️ +90 xxx xxx xx xx</p>
      </section>
    </div>
  </main>

  <footer>
    <div class="wrap">© Coastal Homes / Homster</div>
  </footer>

  <script>
    document.getElementById('copyBtn')?.addEventListener('click', () => {
      const txt = '<script src="https://app.homster.xyz/js/coastalhomes/index.js" async><\/script>';
      navigator.clipboard.writeText(txt).then(()=>alert('Kod kopyalandı!'));
    });
  </script>
</body>
</html>
